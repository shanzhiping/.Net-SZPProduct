@model Models.Products
<script language="javascript" type="text/javascript">
    $(document).ready(function () {
        $("input:submit").click(function () {
            var val = $("#GalleryItems").val();
            if (val == "" || val == null) {
                alert("错误！产品图片不得为空！");
                return false;
            }
            else {
                return true;
            }
        });
    });
</script>
@using (Ajax.BeginForm(new AjaxOptions() { UpdateTargetId = "Main" }))
{
    <div id="buttons">
        @{Html.RenderPartial("Button_Back2List");}
    </div>
    <fieldset>
        <legend>新建/编辑</legend>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Name)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Name)
                @Html.ValidationMessageFor(model => model.Name)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.SKU)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SKU)
                @Html.ValidationMessageFor(model => model.SKU)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.RegionId)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.RegionId)
                @Html.ValidationMessageFor(model => model.RegionId)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                产品类型  
            </div>
            <div class="editor-field">
                @Html.Raw(ViewBag.ProductTypes)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Brand)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Brand)
                @Html.ValidationMessageFor(model => model.Brand)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Weight)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Weight)
                @Html.ValidationMessageFor(model => model.Weight)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Keywords)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Keywords)
                @Html.ValidationMessageFor(model => model.Keywords)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.IsRecommended)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.IsRecommended)
                @Html.ValidationMessageFor(model => model.IsRecommended)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.SalePrice)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SalePrice)
                @Html.ValidationMessageFor(model => model.SalePrice)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.MarketPrice)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.MarketPrice)
                @Html.ValidationMessageFor(model => model.MarketPrice)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Discount)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Discount)
                @Html.ValidationMessageFor(model => model.Discount)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Stock)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Stock)
                @Html.ValidationMessageFor(model => model.Stock)
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                相关图片
            </div>
            <div class="editor-field">
                <div id="gallery_queue">
                </div>
                @Html.Hidden("GalleryItems", ViewBag.ItemString as string)
                <div id="garage">
                    @Html.Action("Basket", "Gallery", new { id = Model.Id })
                </div>
                <img alt="上传图片" src="@Url.Content("~/Scripts/JqueryUploadify/images/spacer.png")" onload="StartUploadify('GalleryItems','@(DateTime.Now.Year)/@(DateTime.Now.Month)')" />
                <input id="GalleryItems_Temp" type="file" style="display: none;" />
            </div>
        </div>
        <div style="clear: both;">
            <div class="editor-label">
                @Html.LabelFor(model => model.Description)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Description)
                @Html.ValidationMessageFor(model => model.Description)
            </div>
        </div>
        @{Html.RenderPartial("Button_Submit");}
    </fieldset>
}
